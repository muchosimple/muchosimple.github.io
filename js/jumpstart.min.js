// This is a custom jumpstart.min.js. We started with the final v1 Jumpstart file, but added a check for RequireJS to
// skip the BC index.min.js import, since via require that file would already be available.

! function() {
  var t = {
    players: document.getElementsByClassName("video-js"),
    info: function(t) {
      return videojs(t).mediainfo
    },
    isPlayingVideo: function(t) {
      return !videojs(t).paused()
    },
    isPlayingAd: function(t) {
      return !(!videojs(t).ima3 || !this.adIsActive(t)) && !videojs(t).ima3.adPlayer.paused()
    },
    adIsActive: function(t) {
      return "true" === t.getAttribute("data-ads-active")
    },
    playVideo: function(t) {
      this.isPlayingVideo(t) || videojs(t).play()
    },
    pauseVideo: function(t) {
      this.isPlayingVideo(t) && videojs(t).pause()
    },
    playAd: function(t) {
      this.isPlayingAd(t) || videojs(t).ima3.adPlayer.play()
    },
    pauseAd: function(t) {
      this.isPlayingAd(t) && videojs(t).ima3.adPlayer.pause()
    },
    stopAd: function(t) {
      videojs(t).ima3 && videojs(t).ima3.adsManager && videojs(t).ima3.adsManager.stop()
    },
    playVideoOrAd: function(t) {
      this.adIsActive(t) ? this.playAd(t) : this.playVideo(t)
    },
    pauseVideoOrAd: function(t) {
      this.adIsActive(t) ? this.pauseAd(t) : this.pauseVideo(t)
    },
    muteVideo: function(t) {
      videojs(t).muted(!0)
    },
    unmuteVideo: function(t) {
      videojs(t).muted(!1)
    },
    muteAd: function(t) {
      return !!videojs(t).ima3 && void videojs(t).ima3.adPlayer.volume(0)
    },
    unmuteAd: function(t) {
      return !!videojs(t).ima3 && void videojs(t).ima3.adPlayer.volume(.5)
    },
    muteVideoOrAd: function(t) {
      this.adIsActive(t) ? this.muteAd(t) : this.muteVideo(t)
    },
    unmuteVideoOrAd: function(t) {
      this.adIsActive(t) ? this.unmuteAd(t) : this.unmuteVideo(t)
    },
    start: function(t) {
      bc(t)
    },
    when: function(t, e, i) {
      videojs(t).on(e, function() {
        i(this)
      })
    },
    forAll: function(t) {
      for (var e = 0; e < this.players.length; e++) t(this.players[e])
    },
    isInViewport: function(t, e, i) {
      e && "number" == typeof e || (e = 0), i && Array.isArray(i) || (i = [0, 0, 0, 0]);
      var a = t.getBoundingClientRect();
      return a.top + e + Number(i[0]) >= 0 && a.right - e + Number(i[1]) <= window.innerWidth && a.bottom - e + Number(i[2]) <= window.innerHeight && a.left + e + Number(i[3]) >= 0
    },
    isMobile: function() {
      var t = !1;
      return function(e) {
        (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0, 4))) && (t = !0)
      }(navigator.userAgent || navigator.vendor || window.opera), t
    },
    isMobileOrTablet: function() {
      var t = !1;
      return function(e) {
        (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0, 4))) && (t = !0)
      }(navigator.userAgent || navigator.vendor || window.opera), t
    }
  };
  window.bcJumpstart = t, t.onloadEvents = [], t.init = {}, t.rebind = {}
}(),
function() {
  var t = {
    manual: function(t, e, i) {
      if ("undefined" == typeof videojs) return void bcJumpstart.onloadEvents.push(function() {
        bcJumpstart.loadplay.manual(t, e, i)
      });
      var a = videojs(t);
      a.catalog.getVideo(e, function(t, e) {
        a.catalog.load(e), i && a.ready(function() {
          a.play()
        })
      })
    },
    auto: function(t, e) {
      for (var i = 0; i < e.length; i++) e[i].addEventListener("click", function() {
        var e = this.getAttribute("data-video-id");
        bcJumpstart.loadplay.manual(t, e, !0)
      })
    },
    playlist: {
      load: function(t, e, i) {
        var a = videojs(t);
        return e ? void a.catalog.getPlaylist(e, function(t, e) {
          a.catalog.load(e), i && a.ready(function() {
            a.play()
          })
        }) : a.playlist()
      },
      play: function(t, e, i) {
        var a = videojs(t);
        if ("next" === e || "previous" === e) a.playlist[e]();
        else {
          if ("number" != typeof e) return a.playlist.currentItem();
          a.playlist.currentItem(e)
        }
        i && a.ready(function() {
          a.play()
        })
      }
    }
  };
  bcJumpstart.loadplay = t
}(),
function() {
  var t = {
    init: function() {
      if (!bcJumpstart.isMobileOrTablet()) {
        var t = 0 === document.referrer.indexOf(location.protocol + "//" + location.host);
        bcJumpstart.forAll(function(e) {
          var i = e.getAttribute("data-autoplay");
          "true" === i ? bcJumpstart.playVideoOrAd(e) : ("internal" === i && t || "external" === i && !t) && bcJumpstart.playVideoOrAd(e)
        })
      }
    }
  };
  bcJumpstart.init.autoplay = t.init, bcJumpstart.onloadEvents.push(function() {
    bcJumpstart.init.autoplay()
  })
}(),
function() {
  function t() {
    var n = window.pageYOffset;
    return a === n ? void i(t) : (a = n, e(), i(t), void 0)
  }
  bcJumpstart.scrollFunctions = [];
  var e = function() {
      for (var t = 0; t < bcJumpstart.scrollFunctions.length; t++) bcJumpstart.scrollFunctions[t]()
    },
    i = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame,
    a = window.pageYOffset;
  i && t()
}(),
function() {
  var t = {
    enableUserStoppable: function() {
      bcJumpstart.forAll(function(t) {
        "true" !== t.getAttribute("data-stoppable") && t.addEventListener("click", function() {
          this.setAttribute("data-viewplay", "false"), this.setAttribute("data-stoppable", "true")
        })
      })
    },
    init: function() {
      bcJumpstart.isMobileOrTablet() || (t.enableUserStoppable(), bcJumpstart.scrollFunctions.push(function() {
        bcJumpstart.forAll(function(t) {
          var e = t.getAttribute("data-viewplay"),
            i = t.getAttribute("data-viewplay-tracker"),
            a = t.offsetHeight / 2,
            n = t.getAttribute("data-view-offset");
          n && (n = n.split(",")), e && "false" !== e && (bcJumpstart.isInViewport(t, a, n) ? "played" !== i && (bcJumpstart.playVideoOrAd(t), t.setAttribute("data-viewplay-tracker", "played")) : i && "paused" !== i && (bcJumpstart.pauseVideoOrAd(t), t.setAttribute("data-viewplay-tracker", "paused")))
        })
      }))
    }
  };
  bcJumpstart.init.viewplay = t.init, bcJumpstart.onloadEvents.push(function() {
    bcJumpstart.init.viewplay()
  }), bcJumpstart.rebind.viewplay = function() {
    t.enableUserStoppable(), bcJumpstart.forAll(function(t) {
      t.removeAttribute("data-viewplay-tracker")
    })
  }
}(),
function() {
  var t = {
    enabled: !1,
    wrap: function(t) {
      var e = document.createElement("div");
      e.classList.add("jumpstart-sticky-outer");
      var i = document.createElement("div");
      i.classList.add("jumpstart-sticky-inner");
      var a = document.createElement("div");
      a.classList.add("jumpstart-sticky-controls"), a.innerHTML = '<div class="jumpstart-sticky-resize-btn"></div><div class="jumpstart-sticky-slide-btn"></div>', i.appendChild(a), t.parentNode.insertBefore(e, t), e.appendChild(i), i.appendChild(t)
    },
    enableControls: function(t) {
      for (var e = 0; e < t.length; e++) {
        var i = "true" === t[e].getAttribute("data-controllable");
        if (!i) {
          var a = t[e].querySelector(".jumpstart-sticky-resize-btn");
          a.addEventListener("click", function() {
            var t = this.parentElement.parentElement;
            t.classList.contains("jumpstart-sticky-large") ? t.classList.remove("jumpstart-sticky-large") : t.classList.add("jumpstart-sticky-large")
          });
          var n = t[e].querySelector(".jumpstart-sticky-slide-btn");
          n.addEventListener("click", function() {
            var t = this.parentElement.parentElement,
              e = t.querySelector(".video-js");
            t.classList.contains("jumpstart-sticky-slide") ? (t.classList.remove("jumpstart-sticky-slide"), bcJumpstart.playVideoOrAd(e)) : (t.classList.add("jumpstart-sticky-slide"), bcJumpstart.pauseVideoOrAd(e), t.removeAttribute("style"))
          }), t[e].setAttribute("data-controllable", "true")
        }
      }
    },
    enableDragging: function(t) {
      var e = "true" === t.getAttribute("data-draggable");
      if (!e) {
        var i, a, n, o, r = !1,
          s = t;
        s.addEventListener("mousedown", function(t) {
          r = !0, n = s.offsetLeft, o = s.offsetTop, i = t.pageX, a = t.pageY
        }), document.addEventListener("mousemove", function(t) {
          if (r) {
            var e = s.parentElement.classList.contains("jumpstart-sticky-active");
            if (e) {
              var c = 20,
                u = function(e) {
                  var a = n + t.pageX - i,
                    o = document.body.clientWidth - s.offsetWidth - c;
                  return a >= o && (a = o), a <= 0 && (a = 0), document.body.clientWidth / 2 > a ? "left" === e ? a + c / 2 + "px" : "auto" : "right" === e ? -(a - o) + "px" : "auto"
                },
                d = function(e) {
                  var i = o + t.pageY - a,
                    n = window.innerHeight - s.offsetHeight - c;
                  return i >= n && (i = n), i <= 0 && (i = 0), window.innerHeight / 2 > i ? "top" === e ? i + c / 2 + "px" : "auto" : "bottom" === e ? -(i - n) + "px" : "auto"
                };
              s.style.left = u("left"), s.style.top = d("top"), s.style.right = u("right"), s.style.bottom = d("bottom")
            }
          }
        }), document.addEventListener("mouseup", function(t) {
          r = !1
        }), t.setAttribute("data-draggable", "true")
      }
    },
    init: function() {
      bcJumpstart.forAll(function(e) {
        "desktop" === e.getAttribute("data-stickyplay") && (bcJumpstart.isMobileOrTablet() || e.setAttribute("data-stickyplay", "true"));
        var i = "true" === e.getAttribute("data-stickyplay"),
          a = "true" === e.getAttribute("data-sticky-wrapped");
        i && !a && (t.wrap(e), e.setAttribute("data-sticky-wrapped", "true"), t.enabled = !0)
      }), t.enableControls(document.querySelectorAll(".jumpstart-sticky-controls")), bcJumpstart.forAll(function(e) {
        e.parentElement.classList.contains("jumpstart-sticky-inner") && t.enableDragging(e.parentElement)
      }), t.style()
    },
    handle: function() {
      bcJumpstart.scrollFunctions.push(function() {
        var t = [];
        bcJumpstart.forAll(function(e) {
          var i = e.parentElement.getBoundingClientRect().top <= window.innerHeight,
            a = "true" === e.getAttribute("data-stickyplay");
          i && a && t.push(e)
        });
        var e = t[t.length - 1],
          i = !1,
          a = !1,
          n = 0;
        if (e) {
          i = e.parentElement.parentElement, n = i.classList.contains("jumpstart-sticky-active") ? i.offsetHeight / 2.5 : e.offsetHeight / 2.5;
          var o = e.getAttribute("data-view-offset");
          o && (o = o.split(","), n += Number(o[0])), a = i.getBoundingClientRect().top + n <= 0
        }
        if (i && a) i.classList.add("jumpstart-sticky-active"), i.classList.remove("jumpstart-sticky-inactive");
        else {
          var r = document.querySelector(".jumpstart-sticky-active");
          r && (r.classList.remove("jumpstart-sticky-active"), r.classList.add("jumpstart-sticky-inactive"))
        }
      })
    },
    style: function() {
      if (t.enabled) {
        var e = document.createElement("link");
        e.type = "text/css", e.rel = "stylesheet", e.href = "//cdn.video.timeinc.com/jumpstart/v1/css/jumpstart.min.css", document.head.appendChild(e)
      }
    }
  };
  bcJumpstart.init.stickyplay = function() {
    t.init(), t.handle()
  }, bcJumpstart.onloadEvents.push(function() {
    bcJumpstart.init.stickyplay()
  }), bcJumpstart.rebind.stickyplay = t.init
}(),
function() {
  var t = {
    start: function() {
      if (!(bcJumpstart.players.length <= 0)) {
        var e = bcJumpstart.players[0].getAttribute("data-account"),
          i = bcJumpstart.players[0].getAttribute("data-player");
        e && i ? t.brightcove(e, i) : console.log("Failed to initialize Jumpstart. Valid Account or Player ID not found.")
      }
    },
    brightcove: function(e, i) {
      bcJumpstart.ready = function(t) {
        bcJumpstart._initialized ? t() : bcJumpstart.onloadEvents.push(t)
      };
      if (typeof define === 'function' && define.amd) {
        t.coreListeners()
      } else {
        var a = document.createElement("script");
        a.src = "//players.brightcove.net/" + e + "/" + i + "_default/index.min.js", document.getElementsByTagName("head")[0].appendChild(a), a.onload = function() {
          t.coreListeners()
        }
      }
    },
    coreListeners: function() {
      var e = function(t, e, i) {
        bcJumpstart.when(t, e, function(t) {
          document.getElementById(t.id()).setAttribute("data-ads-active", i)
        })
      };
      bcJumpstart.forAll(function(t) {
        e(t, "ads-ad-started", "true"), e(t, "ads-pod-started", "true"), e(t, "ads-ad-ended", "false"), e(t, "ads-pod-ended", "false"), e(t, "adserror", "false")
      });
      var i = function(t, e) {
        bcJumpstart.when(t, e, function() {
          var e = t.id;
          bcJumpstart.forAll(function(t) {
            t.id !== e && bcJumpstart.pauseVideoOrAd(t)
          })
        })
      };
      bcJumpstart.forAll(function(t) {
        i(t, "play"), i(t, "ads-play"), i(t, "ads-ad-started")
      }), t.onload()
    },
    onload: function() {
      if (!bcJumpstart._initialized) {
        for (var t = 0; t < bcJumpstart.onloadEvents.length; t++) bcJumpstart.onloadEvents[t]();
        bcJumpstart._initialized = performance.now() + "ms"
      }
    }
  };
  bcJumpstart.init.core = t.start, bcJumpstart.rebind.core = t.coreListeners, bcJumpstart.rebind.all = function() {
    for (method in bcJumpstart.rebind) "all" != method && bcJumpstart.rebind[method]()
  }, bcJumpstart.init.core()
}(),
function() {
  function t(t, e) {
    e = e || {
      bubbles: !1,
      cancelable: !1,
      detail: void 0
    };
    var i = document.createEvent("CustomEvent");
    return i.initCustomEvent(t, e.bubbles, e.cancelable, e.detail), i
  }
  return "function" != typeof window.CustomEvent && (t.prototype = window.Event.prototype, void(window.CustomEvent = t))
}(),
function() {
  var t = new CustomEvent("jumpstartLoad");
  window.dispatchEvent(t)
}();
